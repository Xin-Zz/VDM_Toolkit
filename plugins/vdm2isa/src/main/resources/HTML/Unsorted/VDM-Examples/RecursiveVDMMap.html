<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory RecursiveVDMMap</title>
</head>


<body>
<div class="head">
<h1>Theory RecursiveVDMMap</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>RecursiveVDMMap</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="VDMToolkit.html"><span>VDMToolkit</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‚Äπ</span><span>
  </span><span>\begin{vdmsl}
</span><span>    sum_elems: map nat to nat -&gt; nat
</span><span>    sum_elems(m) == 
</span><span>      if m = {|-&gt;} then 0 else
</span><span>        let d in set dom m in m(d) + sum_elems({d}&lt;-:m)
</span><span>	  --@IsaMeasure( { ({d} &lt;-: m, m) | m : map nat to nat, d: nat &amp; m &lt;&gt; {} and d in set dom m } )
</span><span>    --@Witness({ 1 |-&gt; 1 })
</span><span>    measure card dom m;
</span><span>  \end{vdmsl}</span><span>‚Ä∫</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_def|fact"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_def|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> 
  </span><span class="entity"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems|const"><span>pre_sum_elems</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span>(</span></span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span> </span><span class="main"><span>‚áÄ</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>‚áí</span></span><span> </span><span class="main"><span>ùîπ</span></span><span>‚Ä∫</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="free"><span>pre_sum_elems</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>‚â°</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.inv_Map|const"><span>inv_Map</span></a><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.inv_VDMNat|const"><span>inv_VDMNat</span></a><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.inv_VDMNat|const"><span>inv_VDMNat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span>‚Ä∫</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs|fact"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(6)|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(5)|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(4)|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(3)|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(2)|thm"><span class="entity_def" id="RecursiveVDMMap.pre_sum_elems_defs(1)|thm"><span>pre_sum_elems_defs</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems_def|fact"><span>pre_sum_elems_def</span></a><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.inv_Map_defs|fact"><span>inv_Map_defs</span></a><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.inv_VDMNat_def|fact"><span>inv_VDMNat_def</span></a><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RecursiveVDMMap.sum_elems.domintros|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.pelims|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.cases|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.termination|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.pinduct|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.psimps|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.inducts|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.simps|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.induct|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.cases|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.intros|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.inducts|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.simps|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.induct|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.cases|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.intros|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.domintros|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.pelims|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.cases|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.termination|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.pinduct|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.psimps|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.inducts|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.simps|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.induct|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.cases|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel.intros|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.inducts|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.simps|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.induct|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.cases|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph.intros|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems_def|axiom"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel_def|axiom"><span class="entity_def" id="RecursiveVDMMap.sum_elems_sumC_def|axiom"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph_def|axiom"><span class="entity_def" id="RecursiveVDMMap.sum_elems_dom|const"><span class="entity_def" id="RecursiveVDMMap.sum_elems_rel|const"><span class="entity_def" id="RecursiveVDMMap.sum_elems_sumC|const"><span class="entity_def" id="RecursiveVDMMap.sum_elems_graph|const"><span>function</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>domintros</span><span class="main"><span>)</span></span><span> 
  </span><span class="entity"><span class="entity_def" id="RecursiveVDMMap.sum_elems|const"><span>sum_elems</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span>(</span></span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span> </span><span class="main"><span>‚áÄ</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>‚áí</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span>‚Ä∫</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="free"><span>sum_elems</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems|const"><span>pre_sum_elems</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span>
          </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Map.empty</span><span> </span><span class="keyword1"><span>then</span></span><span>
            </span><span class="main"><span>0</span></span><span>
          </span><span class="keyword1"><span>else</span></span><span>
            </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><span>‚àà</span></span><span> </span><span>dom</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span>the</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>sum_elems</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="bound"><span>d</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.dom_antirestr|const"><span>-‚óÉ</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span>else</span></span><span>
          </span><span>undefined</span><span>
      </span><span class="main"><span>)</span></span><span>
  </span><span>‚Ä∫</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>pat_completeness</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span>
  </span><span class="entity"><span class="entity_def" id="RecursiveVDMMap.sum_elems_wf|const"><span>sum_elems_wf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span> </span><span class="main"><span>‚áÄ</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>√ó</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span> </span><span class="main"><span>‚áÄ</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMNat|type"><span>VDMNat</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.VDMSet|type"><span>VDMSet</span></a><span>‚Ä∫</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="free"><span>sum_elems_wf</span></span><span> </span><span class="main"><span>‚â°</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="bound"><span>d</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.dom_antirestr|const"><span>-‚óÉ</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>‚â†</span></span><span> </span><span>Map.empty</span><span> </span><span class="main"><span>‚àß</span></span><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>‚àà</span></span><span> </span><span>dom</span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>‚àß</span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems|const"><span>pre_sum_elems</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>}</span></span><span>‚Ä∫</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="RecursiveVDMMap.l_sum_elems_wf|fact"><span class="entity_def" id="RecursiveVDMMap.l_sum_elems_wf|thm"><span>l_sum_elems_wf</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>wf</span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.sum_elems_wf|const"><span>sum_elems_wf</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><span>wf_measure</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span>Œª</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span>card</span><span> </span><span class="main"><span>(</span></span><span>dom</span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span>‚Ä∫</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>wf_subset</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>wf_measure</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span class="main"><span>Œª</span></span></span><span> </span><span class="bound"><span class="bound"><span>m</span></span></span><span> </span><span class="main"><span class="main"><span>.</span></span></span><span> </span><span>card</span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>dom</span><span> </span><span class="bound"><span class="bound"><span>m</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>‚Ä∫</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>wf_subset</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>measure_def</span><span> </span><span>inv_image_def</span><span> </span><span>less_than_def</span><span> </span><span>less_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>case_prod_beta</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><span>exE</span><span> </span><span>conjE</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.l_VDMMap_filtering_card|fact"><span>l_VDMMap_filtering_card</span></a><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems_defs|fact"><span>pre_sum_elems_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="RecursiveVDMMap.l_sum_elems_wf_valid|fact"><span class="entity_def" id="RecursiveVDMMap.l_sum_elems_wf_valid|thm"><span>l_sum_elems_wf_valid</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.sum_elems_wf|const"><span>sum_elems_wf</span></a><span> </span><span class="main"><span>‚â†</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>safe</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span>equalityE</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>subset_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‚Äπ</span><span>This will require the user to define a @Witness in VDM.</span><span>‚Ä∫</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule_tac</span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‚Äπ</span><span class="main"><span>[</span></span><span class="main"><span>1</span></span><span> </span><span class="main"><span>‚Ü¶</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>]</span></span><span>‚Ä∫</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span>allE</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems_defs|fact"><span>pre_sum_elems_defs</span></a><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="RecursiveVDMMap.l_pre_sum_elems_sum_elems_wf|fact"><span class="entity_def" id="RecursiveVDMMap.l_pre_sum_elems_sum_elems_wf|thm"><span>l_pre_sum_elems_sum_elems_wf</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems|const"><span>pre_sum_elems</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>‚üπ</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>‚â†</span></span><span> </span><span>Map.empty</span><span> </span><span class="main"><span>‚üπ</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><span>‚àà</span></span><span> </span><span>dom</span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="VDMToolkit.html#VDMToolkit.dom_antirestr|const"><span>-‚óÉ</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>‚àà</span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.sum_elems_wf|const"><span>sum_elems_wf</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.pre_sum_elems_defs|fact"><span>pre_sum_elems_defs</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>domIff</span><span> </span><span>empty_iff</span><span> </span><span>some_in_eq</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RecursiveVDMMap.sum_elems.elims|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.induct|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.simps|fact"><span class="entity_def" id="RecursiveVDMMap.sum_elems.elims|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.induct|thm"><span class="entity_def" id="RecursiveVDMMap.sum_elems.simps|thm"><span class="entity_def" id="offset_1939..1950">termination</span></span></span></span></span></span></span></span></span><span>   
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="RecursiveVDMMap.html#offset_1939..1950"><span>termination</span></a><span>"</span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.l_sum_elems_wf|fact"><span>l_sum_elems_wf</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RecursiveVDMMap.html#RecursiveVDMMap.l_pre_sum_elems_sum_elems_wf|fact"><span>l_pre_sum_elems_sum_elems_wf</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>