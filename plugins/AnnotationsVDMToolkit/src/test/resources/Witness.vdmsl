module A
exports all
definitions 
types
	--@witness(ONE_R, mk_R(1,2))
	--@witness(ONE_R, mk_R(2,4))
	--@witness(BAD_R, mk_R(4,2))
	R ::
		a : nat
		b : nat
	inv mk_R(a, b) == a < b;
end A

module B
imports from A types R renamed R
exports all
definitions 

types

	--@witness(ONE_S, mk_S(A`ONE_R, A`ONE_R))
	S ::
		a : R
		b : R
	inv mk_S(mk_R(a1, b1), mk_R(a2, b2)) == a1 + a2 < b1 + b2;

functions

	f: R -> nat
	f(rec) == rec.a + rec.b
	post
		--@witness(THREE, post_f(A`ONE_R, f(A`ONE_R)))
		(RESULT > rec.a and RESULT > rec.b);

end B